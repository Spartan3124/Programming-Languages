# Name: Caleb Fischer
# File: a07q03.py
import re
p = re.compile("(((\-)[1-9][0-9]*|[1-9][0-9]*|(0))|(((\-)[1-9][0-9]*|[1-9][0-9]*|(0))(x))|(x)|(((\-)[1-9][0-9]*|[1-9][0-9]*|(0))*(x\^)(((\-)[1-9][0-9]*|[1-9][0-9]*|(0)))))((( )*(\+|\-)( )*)(((\-)[1-9][0-9]*|[1-9][0-9]*|(0))|((((\-)[1-9][0-9]*|[1-9][0-9]*|(0))(x))|(x)|(((\-)[1-9][0-9]*|[1-9][0-9]*|(0))*(x\^)(((\-)[1-9][0-9]*|[1-9][0-9]*|(0)))))))*\Z")
s = raw_input()
print p.match(s)


#any number and 0:
#((\-)[1-9][0-9]*|[1-9][0-9]*|(0))
#with x:
#((\-)[1-9][0-9]*|[1-9][0-9]*|(0))*x)

#((x)|((' ')*(\+ | \-)(' ')*))*|((\-)[1-9][0-9]*|[1-9][0-9]*|(0))|((' ')*(\+ | \-)(' ')(x))

#+-
#(( )*(\+|\-)( )*)

#+- x
#(( )*(\+|\-)( )*)x

#number + x
#((\-)[1-9][0-9]*|[1-9][0-9]*|(0))(( )*(\+|\-)( )*)x\Z

# number or x + number or x
#(((\-)[1-9][0-9]*|[1-9][0-9]*|(0))|(((\-)[1-9][0-9]*|[1-9][0-9]*|(0))(x))|(x))(( )*(\+|\-)( )*)(((\-)[1-9][0-9]*|[1-9][0-9]*|(0))|((((\-)[1-9][0-9]*|[1-9][0-9]*|(0))(x))|(x)))\Z

#previous but infinite
#(((\-)[1-9][0-9]*|[1-9][0-9]*|(0))|(((\-)[1-9][0-9]*|[1-9][0-9]*|(0))(x))|(x))((( )*(\+|\-)( )*)(((\-)[1-9][0-9]*|[1-9][0-9]*|(0))|((((\-)[1-9][0-9]*|[1-9][0-9]*|(0))(x))|(x))))*\Z


#    """(((\-)[1-9][0-9]*|[1-9][0-9]*|(0))|(((\-)[1-9][0-9]*|[1-9][0-9]*|(0))(x))|(x)\Z)""") #replace string with correct regex

#exponents
#t = re.compile("(((\-)[1-9][0-9]*|[1-9][0-9]*|(0))*(x\^)(((\-)[1-9][0-9]*|[1-9][0-9]*|(0))))")
